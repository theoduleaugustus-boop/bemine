<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0"/>
  <title>Valentine üíò</title>
  <style>
    :root{
      --pink:#ff4fa3;
      --pink2:#ff77b7;
      --rose:#ff2d55;
      --card:#ffffffcc;
      --text:#2a1630;
      --muted:#6b3a5a;
      --yes1:#ff4fa3;
      --yes2:#ff77b7;
      --no1:#ff6b8a;
      --no2:#ff9fb5;
      --shadow: 0 18px 50px rgba(255,79,163,.22);
    }

    *{box-sizing:border-box}
    html,body{height:100%}
    body{
      margin:0;
      font-family: system-ui, -apple-system, Segoe UI, Roboto, Arial, sans-serif;
      color:var(--text);
      background:
        radial-gradient(900px 600px at 10% 10%, #ffd1e866, transparent 55%),
        radial-gradient(900px 600px at 90% 30%, #ffb4d466, transparent 60%),
        linear-gradient(180deg, #fff6fb, #ffe7f3);
      overflow:hidden;
    }

    body::after{
      content:"";
      position:fixed; inset:0;
      background: radial-gradient(1200px 700px at 50% 35%, transparent 55%, rgba(255,45,85,.08) 100%);
      pointer-events:none;
    }

    .bg{
      position:fixed; inset:0;
      overflow:hidden;
      pointer-events:none;
      z-index:0;
    }

    .sparkle{
      position:absolute;
      width:6px; height:6px;
      border-radius:50%;
      background: rgba(255,255,255,.85);
      box-shadow: 0 0 16px rgba(255,79,163,.25);
      opacity:0;
      animation: twinkle linear forwards;
    }
    @keyframes twinkle{
      0%{ transform: translate(var(--x), var(--y)) scale(.7); opacity:0; }
      20%{ opacity:.9; }
      60%{ opacity:.6; }
      100%{ transform: translate(var(--x), calc(var(--y) - 20vh)) scale(1.05); opacity:0; }
    }

    .float-heart{
      position:absolute;
      left:0; top:0;
      font-size:18px;
      opacity:.9;
      filter: drop-shadow(0 10px 14px rgba(255,79,163,.18));
      animation: rise linear forwards;
    }
    @keyframes rise{
      from{ transform: translate(var(--x), 110vh) scale(var(--s)); opacity:0; }
      10%{ opacity:.95; }
      to{ transform: translate(calc(var(--x) + var(--drift)), -15vh) scale(calc(var(--s) + .15)); opacity:0; }
    }

    .wrap{
      position:relative;
      height:100%;
      display:grid;
      place-items:center;
      padding:18px;
      z-index:1;
    }

    .card{
      width:min(680px, 100%);
      background:var(--card);
      border:1px solid rgba(255,79,163,.20);
      border-radius:26px;
      padding:22px 18px;
      box-shadow: var(--shadow);
      text-align:center;
      backdrop-filter: blur(10px);
      position:relative;
      overflow:hidden;
    }

    .ribbon{
      position:absolute;
      inset:auto -30px -30px auto;
      width:180px; height:180px;
      background: radial-gradient(circle, rgba(255,79,163,.18), transparent 60%);
      transform: rotate(20deg);
      pointer-events:none;
    }

    h1{
      margin:6px 0 6px;
      font-size: clamp(22px, 4.6vw, 36px);
      letter-spacing:.2px;
    }
    .question{
      margin:6px 0 10px;
      font-weight: 900;
      font-size: clamp(20px, 4.2vw, 30px);
      color: var(--text);
    }
    .subtitle{
      margin:0 0 16px;
      color:var(--muted);
      font-size: clamp(14px, 2.6vw, 16px);
      line-height:1.35;
    }

    .btn-zone{
      position:relative;
      width:min(520px, 100%);
      height:190px;
      margin:0 auto;
      display:flex;
      align-items:center;
      justify-content:center;
      gap:16px;
    }

    button{
      border:0;
      padding:14px 18px;
      border-radius:16px;
      font-size:16px;
      font-weight:900;
      cursor:pointer;
      transition: transform .18s ease, filter .18s ease, opacity .25s ease;
      user-select:none;
      -webkit-tap-highlight-color: transparent;
      box-shadow: 0 14px 28px rgba(255,79,163,.18);
      position:relative;
      z-index:2;
    }
    button:active{ transform: scale(.98); }

    #yesBtn{
      background: linear-gradient(135deg, var(--yes1), var(--yes2));
      color:#fff;
      transform: scale(var(--yesScale, 1));
      white-space:nowrap;
    }

    .yesHeart{
      display:inline-block;
      width: 1.2em;
      text-align:center;
      margin-left:6px;
      transform-origin:center;
      animation: beat var(--beatSpeed, 1.8s) ease-in-out infinite;
    }
    @keyframes beat{
      0%, 100% { transform: scale(1); }
      25%      { transform: scale(var(--beatScale, 1.10)); }
      50%      { transform: scale(1); }
    }

    #noBtn{
      position:absolute;
      background: linear-gradient(135deg, var(--no1), var(--no2));
      color:#5b1630;
      box-shadow: 0 14px 28px rgba(255,107,138,.22);
      opacity: var(--noOpacity, 1);
      white-space:nowrap;
      z-index:3;
    }

    .toast{
      position:absolute;
      left:50%;
      top:10px;
      transform: translateX(-50%);
      background: rgba(255,255,255,.86);
      border: 1px solid rgba(255,79,163,.18);
      border-radius: 999px;
      padding: 10px 14px;
      font-weight: 900;
      font-size: 14px;
      color: #6b2c53;
      box-shadow: 0 14px 30px rgba(255,79,163,.18);
      opacity:0;
      pointer-events:none;
      transition: opacity .25s ease, transform .25s ease;
      z-index:5;
      white-space:nowrap;
      max-width: calc(100% - 24px);
      overflow:hidden;
      text-overflow:ellipsis;
    }
    .toast.show{
      opacity:1;
      transform: translateX(-50%) translateY(4px);
    }

    .pop{
      position:fixed;
      font-size:18px;
      pointer-events:none;
      opacity:.95;
      animation: popUp .9s ease forwards;
      filter: drop-shadow(0 10px 14px rgba(255,79,163,.18));
      z-index:50;
    }
    @keyframes popUp{
      from{ transform: translateY(0) scale(.9); opacity:0; }
      20%{ opacity:1; }
      to{ transform: translateY(-60px) scale(1.12); opacity:0; }
    }

    /* Overlay */
    .overlay{
      position:fixed; inset:0;
      display:none;
      place-items:center;
      background: rgba(255,246,251,.9);
      backdrop-filter: blur(8px);
      z-index:999;
      padding:18px;
    }
    .overlay.show{ display:grid; }

    .success{
      width:min(760px, 100%);
      border:1px solid rgba(255,79,163,.22);
      border-radius:26px;
      background:#ffffffd8;
      box-shadow: 0 25px 80px rgba(255,79,163,.25);
      padding:22px 18px;
      text-align:center;
      position:relative;
      overflow:hidden;
    }
    .success h2{
      margin:8px 0 6px;
      font-size: clamp(26px, 5vw, 44px);
    }
    .success p{
      margin:0 0 12px;
      color: rgba(107,58,90,.9);
    }

    .actions{
      display:flex;
      flex-wrap:wrap;
      gap:12px;
      justify-content:center;
      margin-top:10px;
    }
    .btn2{
      background: linear-gradient(135deg, #60a5fa, #a78bfa);
      color:#09101f;
      font-weight:900;
    }
    .btn3{
      background: linear-gradient(135deg, #34d399, #a7f3d0);
      color:#062015;
      font-weight:900;
    }

    /* Surprise vinyl */
    .surpriseWrap{ display:none; margin:10px auto 14px; width:min(560px, 100%); }
    .surpriseWrap.show{ display:block; }

    .vinylScene{
      width:min(520px, 100%);
      margin: 10px auto 6px;
      position:relative;
      height:220px;
      display:grid;
      place-items:center;
    }

    .sleeve{
      width:260px; height:190px;
      border-radius:18px;
      background:
        linear-gradient(135deg, rgba(255,79,163,.16), rgba(255,183,214,.28)),
        radial-gradient(150px 120px at 20% 20%, rgba(255,255,255,.55), transparent 60%);
      border: 1px solid rgba(255,79,163,.22);
      box-shadow: 0 20px 60px rgba(255,79,163,.18);
      position:relative;
      overflow:hidden;
    }

    .sleeveLabel{
      position:absolute;
      left:16px; bottom:14px;
      font-weight:950;
      color: rgba(107,58,90,.85);
      font-size:14px;
      background: rgba(255,255,255,.62);
      border:1px solid rgba(255,79,163,.18);
      padding:8px 10px;
      border-radius:999px;
    }

    .record{
      width:170px; height:170px;
      border-radius:50%;
      position:absolute;
      left:50%; top:50%;
      transform: translate(-50%,-50%) translateX(-18px) translateY(-2px);
      background:
        radial-gradient(circle at 50% 50%, #fff 0 9px, transparent 10px),
        radial-gradient(circle at 50% 50%, #ffd1e8 0 32px, #ff8fc6 33px 100%),
        repeating-radial-gradient(circle at 50% 50%, rgba(255,255,255,.0) 0 3px, rgba(255,255,255,.22) 3px 6px);
      box-shadow: 0 16px 34px rgba(255,79,163,.20);
      opacity:0;
    }
    .record::after{
      content:"";
      position:absolute;
      inset:24px;
      border-radius:50%;
      background: radial-gradient(circle, #fff 0 18px, #ff4fa3 19px 62%, #ffb703 63% 100%);
      opacity:.85;
    }

    .surpriseWrap.show .record{
      animation: slideOut .85s ease forwards, spin 2.4s linear infinite .85s;
    }
    @keyframes slideOut{
      from{ opacity:0; transform: translate(-50%,-50%) translateX(-18px) translateY(-2px); }
      to{ opacity:1; transform: translate(-50%,-50%) translateX(92px) translateY(-2px); }
    }
    @keyframes spin {
      to { transform: translate(-50%,-50%) translateX(92px) translateY(-2px) rotate(360deg); }
    }

    .note{
      position:absolute;
      font-size:18px;
      opacity:0;
      filter: drop-shadow(0 10px 14px rgba(255,79,163,.18));
    }
    .surpriseWrap.show .note{
      animation: notesFloat 2.4s ease-in-out infinite;
      opacity:1;
    }
    @keyframes notesFloat{
      0%{ transform: translate(0,0) rotate(0deg); }
      50%{ transform: translate(var(--dx), var(--dy)) rotate(8deg); }
      100%{ transform: translate(0,0) rotate(0deg); }
    }

    @media (max-width:420px){
      button{ width:150px; }
      .btn-zone{ height:210px; }
      .vinylScene{ height:240px; }
      .sleeve{ width:240px; }
    }
  </style>
</head>
<body>
  <div class="bg" id="bg"></div>

  <div class="wrap">
    <div class="card">
      <div class="ribbon" aria-hidden="true"></div>
      <div class="toast" id="toast">üôÇ</div>

      <h1>To the love of my life Sherkima üíó</h1>
      <div class="question">Will you be my Valentine? üíò</div>
      <p class="subtitle">I promise this isn‚Äôt a trick question‚Ä¶ unless you press No üòèüíò</p>

      <div class="btn-zone" id="btnZone">
        <button type="button" id="yesBtn">Yes <span class="yesHeart">üíì</span></button>
        <button type="button" id="noBtn">No ü•∫</button>
      </div>
    </div>
  </div>
  
  <div class="overlay" id="overlay">
    <div class="success">
      <h2 id="yesTitle">You said YESSS üíñ</h2>
      <p id="yesLine">I‚Äôm claiming you as my Valentine. No refunds. No returns. Only love. üòåüåπ</p>

      <div class="actions">
        <button type="button" class="btn3" id="surpriseBtn">Press me üòåüíù</button>
        <button type="button" class="btn2" id="replayBtn">Back to Us üíó</button>
      </div>

      <div class="surpriseWrap" id="surpriseWrap">
        <div class="vinylScene" aria-hidden="true">
          <div class="sleeve">
            <div class="sleeveLabel">Our song üíû</div>
          </div>
          <div class="record"></div>

          <div class="note" style="--dx:18px; --dy:-22px; left: calc(50% + 150px); top: 54px;">üéµ</div>
          <div class="note" style="--dx:-18px; --dy:-18px; left: calc(50% + 120px); top: 22px;">üé∂</div>
          <div class="note" style="--dx:22px; --dy:16px; left: calc(50% + 172px); top: 110px;">üéº</div>
          <div class="note" style="--dx:-14px; --dy:20px; left: calc(50% + 130px); top: 138px;">üéµ</div>
        </div>
      </div>
    </div>
  </div>
  <script>
  document.addEventListener("DOMContentLoaded", () => {
      const bg = document.getElementById("bg");
      const noBtn = document.getElementById("noBtn");
      const yesBtn = document.getElementById("yesBtn");
      const btnZone = document.getElementById("btnZone");
      const overlay = document.getElementById("overlay");
      const replayBtn = document.getElementById("replayBtn");
      const surpriseBtn = document.getElementById("surpriseBtn");
      const surpriseWrap = document.getElementById("surpriseWrap");
      const toast = document.getElementById("toast");
      const yesTitle = document.getElementById("yesTitle");
      const yesLine = document.getElementById("yesLine");

      if (!bg || !noBtn || !yesBtn || !btnZone || !overlay || !replayBtn || !surpriseBtn || !surpriseWrap || !toast || !yesTitle || !yesLine) {
        return;
      }

      const clamp = (n, min, max) => Math.max(min, Math.min(max, n));
      const zoneRect = () => btnZone.getBoundingClientRect();

      const heartGlyphs = ["üíó","üíñ","üíò","üíï","üíû","‚ù§Ô∏è","ü©∑"];

      function showToast(text){
        toast.textContent = text;
        toast.classList.add("show");
        clearTimeout(showToast._t);
        showToast._t = setTimeout(()=> toast.classList.remove("show"), 1400);
      }

      function popAt(x,y){
        const el = document.createElement("div");
        el.className = "pop";
        el.textContent = heartGlyphs[Math.floor(Math.random()*heartGlyphs.length)];
        el.style.left = (x + (Math.random()*16-8)) + "px";
        el.style.top  = (y + (Math.random()*16-8)) + "px";
        document.body.appendChild(el);
        setTimeout(()=>el.remove(), 950);
      }

      function spawnBgHeart(){
        const el = document.createElement("div");
        el.className = "float-heart";
        el.textContent = heartGlyphs[Math.floor(Math.random()*heartGlyphs.length)];
        const x = Math.random()*100;
        const s = 0.65 + Math.random()*1.0;
        const drift = (-35 + Math.random()*70) + "vw";
        const dur = 7 + Math.random()*8;
        el.style.setProperty("--x", x + "vw");
        el.style.setProperty("--s", s.toFixed(2));
        el.style.setProperty("--drift", drift);
        el.style.animationDuration = dur + "s";
        bg.appendChild(el);
        setTimeout(() => el.remove(), dur*1000);
      }

      function spawnSparkle(){
        const el = document.createElement("div");
        el.className = "sparkle";
        el.style.setProperty("--x", (Math.random()*100) + "vw");
        el.style.setProperty("--y", (80 + Math.random()*40) + "vh");
        el.style.animationDuration = (3.5 + Math.random()*3.5) + "s";
        bg.appendChild(el);
        setTimeout(()=>el.remove(), 7500);
      }

      setInterval(() => {
        if (overlay.classList.contains("show")) return;
        spawnBgHeart();
        if (Math.random() < 0.60) spawnBgHeart();
        if (Math.random() < 0.55) spawnSparkle();
      }, 520);

      // ===== YES heart beat control =====
      let noPresses = 0;

      function updateHeartBeat(){
        const scale = 1.10 + (noPresses * 0.07);
        const speed = Math.max(0.85, 1.8 - (noPresses * 0.20));
        yesBtn.style.setProperty("--beatScale", scale.toFixed(2));
        yesBtn.style.setProperty("--beatSpeed", speed.toFixed(2) + "s");
      }
      function setYesScale(){
        const scale = 1 + (noPresses * 0.08);
        yesBtn.style.setProperty("--yesScale", scale.toFixed(2));
      }
      function setNoOpacity(){
        const op = Math.max(0.12, 1 - (noPresses * 0.22));
        noBtn.style.setProperty("--noOpacity", op.toFixed(2));
      }

      // ===== Smooth NO movement =====
      let noPos = { x: 0, y: 0 };
      let target = { x: 0, y: 0 };
      let animing = false;

      function setTarget(x,y){
        const zr = zoneRect();
        const bw = noBtn.offsetWidth;
        const bh = noBtn.offsetHeight;
        const minX = 10, minY = 10;
        const maxX = zr.width - bw - 10;
        const maxY = zr.height - bh - 10;

        target.x = clamp(x, minX, maxX);
        target.y = clamp(y, minY, maxY);

        if (!animing) smoothStep();
      }

      function smoothStep(){
        animing = true;
        const ease = 0.11; // smooth + catchable
        noPos.x += (target.x - noPos.x) * ease;
        noPos.y += (target.y - noPos.y) * ease;

        noBtn.style.left = noPos.x + "px";
        noBtn.style.top  = noPos.y + "px";

        const dx = target.x - noPos.x;
        const dy = target.y - noPos.y;

        if (Math.hypot(dx,dy) < 0.6){
          noPos.x = target.x; noPos.y = target.y;
          noBtn.style.left = noPos.x + "px";
          noBtn.style.top  = noPos.y + "px";
          animing = false;
          return;
        }
        requestAnimationFrame(smoothStep);
      }

      function placeNoNextToYes(){
        const zr = zoneRect();
        const yesX = yesBtn.offsetLeft;
        const yesY = yesBtn.offsetTop;
        const gap = 16;

        let startX = yesX + yesBtn.offsetWidth + gap;
        let startY = yesY;

        const bw = noBtn.offsetWidth;
        const bh = noBtn.offsetHeight;

        const minX = 10, minY = 10;
        const maxX = zr.width - bw - 10;
        const maxY = zr.height - bh - 10;

        startX = clamp(startX, minX, maxX);
        startY = clamp(startY, minY, maxY);

        noPos = { x: startX, y: startY };
        target = { x: startX, y: startY };
        noBtn.style.left = startX + "px";
        noBtn.style.top  = startY + "px";
      }

      function evade(pointerX, pointerY){
        if (noPresses >= 4) return;
        const zr = zoneRect();
        const px = pointerX - zr.left;
        const py = pointerY - zr.top;

        const maxJump = 120;
        let rx = px + (Math.random()*2-1)*maxJump;
        let ry = py + (Math.random()*2-1)*maxJump;

        const vx = (noPos.x - px);
        const vy = (noPos.y - py);
        const len = Math.hypot(vx,vy) || 1;
        rx += (vx/len) * 55;
        ry += (vy/len) * 55;

        setTarget(rx, ry);
      }

      // proximity (desktop)
      document.addEventListener("mousemove", (e) => {
        if (overlay.classList.contains("show")) return;
        if (noPresses >= 4) return;

        const r = noBtn.getBoundingClientRect();
        const mx = e.clientX, my = e.clientY;
        const dist = Math.hypot((r.left + r.width/2) - mx, (r.top + r.height/2) - my);
        if (dist < 92) evade(mx, my);
      }, { passive:true });

      // hearts ONLY when actually on NO
      noBtn.addEventListener("mouseenter", () => {
        if (overlay.classList.contains("show")) return;
        if (noPresses >= 4) return;

        const r = noBtn.getBoundingClientRect();
        const x = r.left + r.width/2;
        const y = r.top + r.height/2;

        popAt(x,y);
        evade(x,y);
      });

      // mobile move-away
      noBtn.addEventListener("touchstart", (e) => {
        if (overlay.classList.contains("show")) return;
        if (noPresses >= 4) return;

        const t = e.touches && e.touches[0];
        if (!t) return;

        popAt(t.clientX, t.clientY);
        evade(t.clientX, t.clientY);
        e.preventDefault();
      }, { passive:false });

      btnZone.addEventListener("touchmove", (e) => {
        if (overlay.classList.contains("show")) return;
        if (noPresses >= 4) return;

        const t = e.touches && e.touches[0];
        if (!t) return;
        evade(t.clientX, t.clientY);
      }, { passive:true });

      const noMessages = [
        "Try again üòå",
        "Your hand slipped‚Ä¶ it happens üò≠üíó",
        "You pressed No again? I‚Äôm impressed üò≠üíû",
        "Nice attempt üòåüíò",
        "Mhm‚Ä¶ you‚Äôre really committed üòÇ",
        "I saw that üëÄüíï",
        "You‚Äôre adorable, keep trying üòåü©∑",
        "Nope‚Ä¶ try again, Valentine üò≠üåπ",
        "That button is fighting for its life üòÇüíó"
      ];

      noBtn.addEventListener("click", (e) => {
        const x = e.clientX || (window.innerWidth/2);
        const y = e.clientY || (window.innerHeight/2);

        popAt(x,y);

        if (noPresses >= 4) return;

        noPresses++;
        setYesScale();
        setNoOpacity();
        updateHeartBeat();

        if (noPresses === 4){
          showToast("Plot Twist: No has left to find its own Valentine üíò");
          noBtn.style.pointerEvents = "none";
          
          setTarget(target.x + 140, target.y - 80);
          setTimeout(() => { noBtn.style.opacity = "0"; }, 380);

          // 30% chance of No returning
          setTimeout((() => {
            if (Math.random() < 0.30) {
              const returnMessages = [
  "Plot Twist: No failed to find a Valentine‚Ä¶ and came back ü•∫üíó",
  "No realized the streets are cold and returned immediately ü•∂üíû",
  "No tried to leave‚Ä¶ but missed you already üòåüíï",
  "No went out there‚Ä¶ and panicked. So it came back üò≠üíò",
  "No said ‚Äúnevermind‚Äù and spawned back in üò≠üåπ"
];

showToast(returnMessages[Math.floor(Math.random() * returnMessages.length)]);

// bring it back: 4 -> 3 so she can press it again
noPresses = 3;

Object.assign(noBtn.style, { opacity: "1", pointerEvents: "auto" });

setNoOpacity();
updateHeartBeat();
placeNoNextToYes();

noBtn.animate(
  [
    { transform: "scale(0.9) translateX(0px)" },
    { transform: "scale(0.9) translateX(-4px)" },
    { transform: "scale(0.9) translateX(4px)" },
    { transform: "scale(0.9) translateX(-3px)" },
    { transform: "scale(0.9) translateX(0px)" }
  ],
  { duration: 350, easing: "ease-in-out" }
);
          return;
        }

        showToast(noMessages[(noPresses - 1) % noMessages.length]);
        setTimeout(() => evade(x,y), 120);
      });

      // YES
      yesBtn.addEventListener("click", (e) => {
        popAt(e.clientX || window.innerWidth/2, e.clientY || window.innerHeight/2);

        overlay.classList.add("show");

        if (noPresses === 0){
          yesTitle.textContent = "Awww you pressed it on the first try üò≠üíñ";
          yesLine.textContent = "That was too easy‚Ä¶ but I‚Äôm not complaining üòåüåπ";
        } else {
          yesTitle.textContent = "You said YESSS üíñ";
          yesLine.textContent = "I‚Äôm claiming you as my Valentine. No refunds. No returns. Only love. üòåüåπ";
        }
      });

      // Surprise button
      surpriseBtn.addEventListener("click", () => {
        surpriseWrap.classList.add("show");
        showToast("Okayyy‚Ä¶ here‚Äôs the surprise üòåüé∂");
      });

      // Back to main page
      replayBtn.addEventListener("click", () => {
        overlay.classList.remove("show");

        noPresses = 0;
        yesBtn.style.setProperty("--yesScale", "1");
        noBtn.style.setProperty("--noOpacity", "1");
        noBtn.style.opacity = "1";
        noBtn.style.pointerEvents = "auto";

        surpriseWrap.classList.remove("show");
        updateHeartBeat();
        setTimeout(placeNoNextToYes, 0);
      });

      // Init
      updateHeartBeat();
      setTimeout(placeNoNextToYes, 0);
      window.addEventListener("resize", () => setTimeout(placeNoNextToYes, 0));
    });
  </script>
</body>
</html>
  <script>
